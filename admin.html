<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin - Inventory Management System</title>
    
    <!-- Bootstrap 5 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Bootstrap Icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">
    <!-- Custom CSS -->
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <div class="wrapper">
        <!-- Sidebar -->
        <aside class="sidebar">
            <div class="sidebar-header">
                <div class="logo-icon">
                    <i class="bi bi-box-seam"></i>
                </div>
                <div class="logo-text">
                    <h4 class="mb-0">Inventory</h4>
                    <small class="text-muted">Super Admin</small>
                </div>
            </div>
            
            <nav class="sidebar-nav">
                <div class="nav-section">
                    <h6 class="nav-section-title">Main Menu</h6>
                    <ul class="nav-menu">
                        <li class="nav-item">
                            <a class="nav-link active" href="#dashboard" data-section="dashboard">
                                <i class="bi bi-grid"></i>
                                <span>Dashboard</span>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#users" data-section="users">
                                <i class="bi bi-people"></i>
                                <span>Users</span>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#products" data-section="products">
                                <i class="bi bi-box-seam"></i>
                                <span>Products</span>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#inventory" data-section="inventory">
                                <i class="bi bi-file-text"></i>
                                <span>Inventory</span>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#new-transfer" data-section="new-transfer">
                                <i class="bi bi-send"></i>
                                <span>New Transfer</span>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#stock-movements" data-section="stock-movements">
                                <i class="bi bi-arrow-left-right"></i>
                                <span>Stock Movements</span>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#reports" data-section="reports">
                                <i class="bi bi-graph-up-arrow"></i>
                                <span>Reports</span>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#activity-log" data-section="activity-log">
                                <i class="bi bi-clock-history"></i>
                                <span>Activity Log</span>
                            </a>
                        </li>
                    </ul>
                </div>
            </nav>
            
            <div class="sidebar-footer">
                <a href="#" class="sign-out-link">
                    <i class="bi bi-box-arrow-right"></i>
                    <span>Sign Out</span>
                </a>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Top Header -->
            <div class="top-header">
                <div class="header-content">
                    <i class="bi bi-file-text me-2"></i>
                    <span>Inventory Management System - Admin</span>
                </div>
            </div>

            <!-- Content Area -->
            <div class="content-area">
                <!-- Dashboard Section -->
                <section id="dashboard" class="content-section">
                    <div class="dashboard-header mb-4">
                        <h1 class="dashboard-title">Dashboard</h1>
                        <p class="dashboard-subtitle">Welcome back! Here's an overview of your inventory system.</p>
                    </div>

                    <!-- Stats Cards -->
                    <div class="row g-4 mb-4">
                        <div class="col-md-3">
                            <div class="stat-card">
                                <div class="stat-card-body">
                                    <div class="stat-content">
                                        <h6 class="stat-label">Total Products</h6>
                                        <h2 class="stat-value" id="totalItems">0</h2>
                                        <p class="stat-description">Products in catalog</p>
                                    </div>
                                    <div class="stat-icon stat-icon-blue">
                                        <i class="bi bi-box-seam"></i>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="stat-card">
                                <div class="stat-card-body">
                                    <div class="stat-content">
                                        <h6 class="stat-label">My Inventory</h6>
                                        <h2 class="stat-value" id="totalInventory">0</h2>
                                        <p class="stat-description">Total units in stock</p>
                                    </div>
                                    <div class="stat-icon stat-icon-green">
                                        <i class="bi bi-graph-up"></i>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="stat-card">
                                <div class="stat-card-body">
                                    <div class="stat-content">
                                        <h6 class="stat-label">Pending Movements</h6>
                                        <h2 class="stat-value" id="pendingMovements">0</h2>
                                        <p class="stat-description">Awaiting action</p>
                                    </div>
                                    <div class="stat-icon stat-icon-yellow">
                                        <i class="bi bi-graph-up-arrow"></i>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="stat-card">
                                <div class="stat-card-body">
                                    <div class="stat-content">
                                        <h6 class="stat-label">Activity Logs</h6>
                                        <h2 class="stat-value" id="activityLogs">0</h2>
                                        <p class="stat-description">Your actions</p>
                                    </div>
                                    <div class="stat-icon stat-icon-green">
                                        <i class="bi bi-graph-up"></i>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Role Information Card -->
                    <div class="row">
                        <div class="col-md-12">
                            <div class="card role-info-card">
                                <div class="card-body">
                                    <h5 class="card-title mb-3">Role Information</h5>
                                    <p class="card-subtitle text-muted mb-4">Your current role and permissions</p>
                                    <div class="role-info-content">
                                        <div class="role-info-item">
                                            <span class="role-label">Role:</span>
                                            <span class="role-badge">Super Admin</span>
                                        </div>
                                        <div class="role-info-item">
                                            <span class="role-label">Email:</span>
                                            <span class="role-value">admin@inventory.com</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                </section>

                <!-- Users Section -->
                <section id="users" class="content-section d-none">
                    <div class="row mb-4">
                        <div class="col-md-6">
                            <h2>Users</h2>
                        </div>
                        <div class="col-md-6 text-end">
                            <button class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#addUserModal">
                                <i class="bi bi-plus-circle me-2"></i>Add New User
                            </button>
                        </div>
                    </div>

                    <div class="card">
                        <div class="card-body">
                            <div class="table-responsive">
                                <table class="table table-striped table-hover">
                                    <thead>
                                        <tr>
                                            <th>ID</th>
                                            <th>Name</th>
                                            <th>Email</th>
                                            <th>Role</th>
                                            <th>Status</th>
                                            <th>Actions</th>
                                        </tr>
                                    </thead>
                                    <tbody id="usersTable">
                                        <tr>
                                            <td colspan="6" class="text-center text-muted">No users found.</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Products Section -->
                <section id="products" class="content-section d-none">
                    <div class="row mb-4">
                        <div class="col-md-6">
                            <h2>Products</h2>
                        </div>
                        <div class="col-md-6 text-end">
                            <button class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#addProductModal">
                                <i class="bi bi-plus-circle me-2"></i>Add New Product
                            </button>
                        </div>
                    </div>

                    <!-- Search and Filter -->
                    <div class="row mb-3">
                        <div class="col-md-4">
                            <input type="text" class="form-control" id="productSearchInput" placeholder="Search products..." oninput="filterProducts()">
                        </div>
                        <div class="col-md-3">
                            <select class="form-select" id="productCategoryFilter" onchange="filterProducts()">
                                <option value="">All Categories</option>
                            </select>
                        </div>
                        <div class="col-md-3">
                            <select class="form-select" id="productStatusFilter" onchange="filterProducts()">
                                <option value="">All Status</option>
                                <option value="active">Active</option>
                                <option value="inactive">Inactive</option>
                            </select>
                        </div>
                        <div class="col-md-2">
                            <button class="btn btn-secondary w-100" onclick="document.getElementById('productSearchInput').value=''; document.getElementById('productCategoryFilter').value=''; document.getElementById('productStatusFilter').value=''; filterProducts();">
                                <i class="bi bi-x-circle me-1"></i>Clear
                            </button>
                        </div>
                    </div>

                    <!-- Products Table -->
                    <div class="card">
                        <div class="card-body">
                            <div class="table-responsive">
                                <table class="table table-striped table-hover">
                                    <thead>
                                        <tr>
                                            <th>ID</th>
                                            <th>Name</th>
                                            <th>SKU</th>
                                            <th>Category</th>
                                            <th>Unit Price</th>
                                            <th>Status</th>
                                            <th>Actions</th>
                                        </tr>
                                    </thead>
                                    <tbody id="productsTable">
                                        <tr>
                                            <td colspan="7" class="text-center text-muted">No products found. Add your first product!</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Inventory Section -->
                <section id="inventory" class="content-section d-none">
            <div class="row mb-4">
                <div class="col-md-6">
                    <h2>
                        <i class="bi bi-boxes me-2"></i>Inventory Management
                    </h2>
                </div>
                <div class="col-md-6 text-end">
                    <button class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#addItemModal">
                        <i class="bi bi-plus-circle me-2"></i>Add New Item
                    </button>
                </div>
            </div>

            <!-- Search and Filter -->
            <div class="row mb-3">
                <div class="col-md-4">
                    <input type="text" class="form-control" id="searchInput" placeholder="Search items...">
                </div>
                <div class="col-md-3">
                    <select class="form-select" id="categoryFilter">
                        <option value="">All Categories</option>
                    </select>
                </div>
                <div class="col-md-3">
                    <select class="form-select" id="statusFilter">
                        <option value="">All Status</option>
                        <option value="in-stock">In Stock</option>
                        <option value="low-stock">Low Stock</option>
                        <option value="out-of-stock">Out of Stock</option>
                    </select>
                </div>
                <div class="col-md-2">
                    <button class="btn btn-secondary w-100" onclick="clearFilters()">
                        <i class="bi bi-x-circle me-1"></i>Clear
                    </button>
                </div>
            </div>

            <!-- Inventory Table -->
            <div class="card">
                <div class="card-body">
                    <div class="table-responsive">
                        <table class="table table-striped table-hover">
                            <thead>
                                <tr>
                                    <th>ID</th>
                                    <th>Product Name</th>
                                    <th>Category</th>
                                    <th>Quantity</th>
                                    <th>Unit Price</th>
                                    <th>Total Value</th>
                                    <th>Status</th>
                                    <th>Location</th>
                                </tr>
                            </thead>
                            <tbody id="inventoryTable">
                                <tr>
                                    <td colspan="8" class="text-center text-muted">No items found. Add your first item!</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </section>

                <!-- New Transfer Section -->
                <section id="new-transfer" class="content-section d-none">
                    <div class="section-header mb-4">
                        <h2>New Transfer</h2>
                    </div>
                    <div class="card">
                        <div class="card-body text-center py-5">
                            <i class="bi bi-arrow-left-right fs-1 text-primary mb-3"></i>
                            <h4>Create a New Stock Transfer</h4>
                            <p class="text-muted mb-4">Use the wizard to transfer stock between locations</p>
                            <button class="btn btn-primary btn-lg" onclick="movementWizard.open()">
                                <i class="bi bi-plus-circle me-2"></i>Start New Transfer
                            </button>
                        </div>
                    </div>
                </section>

                <!-- Stock Movements Section -->
                <section id="stock-movements" class="content-section d-none">
                    <div class="row mb-4">
                        <div class="col-md-6">
                            <h2>Stock Movements</h2>
                        </div>
                        <div class="col-md-6 text-end">
                            <button class="btn btn-primary me-2" onclick="movementWizard.open()">
                                <i class="bi bi-plus-circle me-2"></i>New Transfer
                            </button>
                        </div>
                    </div>
                    
                    <!-- Filters -->
                    <div class="row mb-3">
                        <div class="col-md-3">
                            <select class="form-select" id="movementStatusFilter" onchange="filterMovements()">
                                <option value="">All Status</option>
                                <option value="pending">Pending</option>
                                <option value="approved">Approved</option>
                                <option value="received">Received</option>
                                <option value="cancelled">Cancelled</option>
                            </select>
                        </div>
                        <div class="col-md-3">
                            <select class="form-select" id="movementFromFilter" onchange="filterMovements()">
                                <option value="">All From Locations</option>
                            </select>
                        </div>
                        <div class="col-md-3">
                            <select class="form-select" id="movementToFilter" onchange="filterMovements()">
                                <option value="">All To Locations</option>
                            </select>
                        </div>
                        <div class="col-md-3">
                            <button class="btn btn-secondary w-100" onclick="document.getElementById('movementStatusFilter').value=''; document.getElementById('movementFromFilter').value=''; document.getElementById('movementToFilter').value=''; filterMovements();">
                                <i class="bi bi-x-circle me-1"></i>Clear
                            </button>
                        </div>
                    </div>
                    
                    <div class="card">
                        <div class="card-body">
                            <div class="table-responsive">
                                <table class="table table-striped table-hover">
                                    <thead>
                                        <tr>
                                            <th>ID</th>
                                            <th>Date</th>
                                            <th>From</th>
                                            <th>To</th>
                                            <th>Items</th>
                                            <th>Status</th>
                                            <th>Created By</th>
                                            <th>Actions</th>
                                        </tr>
                                    </thead>
                                    <tbody id="movementsTable">
                                        <tr>
                                            <td colspan="8" class="text-center text-muted">No movements found.</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Reports Section -->
                <section id="reports" class="content-section d-none">
                    <div class="section-header mb-4">
                        <h2>Reports & Analytics</h2>
                    </div>

                    <div class="row mb-4">
                        <div class="col-md-6">
                            <div class="card">
                                <div class="card-header">
                                    <h5 class="mb-0">Stock Value Summary</h5>
                                </div>
                                <div class="card-body">
                                    <div class="mb-3">
                                        <strong>Total Inventory Value:</strong>
                                        <span class="fs-4 text-primary ms-2" id="totalValue">$0.00</span>
                                    </div>
                                    <div class="mb-3">
                                        <strong>Average Item Value:</strong>
                                        <span class="fs-5 text-secondary ms-2" id="avgValue">$0.00</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="card">
                                <div class="card-header">
                                    <h5 class="mb-0">Category Distribution</h5>
                                </div>
                                <div class="card-body">
                                    <div id="categoryDistribution">
                                        <p class="text-muted">No data available</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="row mb-4">
                        <div class="col-md-6">
                            <div class="card">
                                <div class="card-header">
                                    <h5 class="mb-0">Stock Levels</h5>
                                </div>
                                <div class="card-body">
                                    <div id="stockLevels">
                                        <p class="text-muted">Loading...</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="card">
                                <div class="card-header">
                                    <h5 class="mb-0">Recent Movement History</h5>
                                </div>
                                <div class="card-body">
                                    <div id="movementHistory">
                                        <p class="text-muted">Loading...</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Activity Log Section -->
                <section id="activity-log" class="content-section d-none">
                    <div class="section-header mb-4">
                        <h2>Activity Log</h2>
                    </div>
                    <div class="card">
                        <div class="card-body">
                            <div class="table-responsive">
                                <table class="table table-hover">
                                    <thead>
                                        <tr>
                                            <th>Date & Time</th>
                                            <th>Action</th>
                                            <th>Description</th>
                                            <th>User</th>
                                            <th>View</th>
                                        </tr>
                                    </thead>
                                    <tbody id="activityLogTable">
                                        <tr>
                                            <td colspan="5" class="text-center text-muted">No activity recorded</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Transactions Section (Legacy) -->
                <section id="transactions" class="content-section d-none">
            <div class="row mb-4">
                <div class="col-md-6">
                    <h2>
                        <i class="bi bi-arrow-left-right me-2"></i>Stock Transactions
                    </h2>
                </div>
                <div class="col-md-6 text-end">
                    <button class="btn btn-success me-2" data-bs-toggle="modal" data-bs-target="#stockInModal">
                        <i class="bi bi-box-arrow-in-down me-2"></i>Stock In
                    </button>
                    <button class="btn btn-warning" data-bs-toggle="modal" data-bs-target="#stockOutModal">
                        <i class="bi bi-box-arrow-up me-2"></i>Stock Out
                    </button>
                </div>
            </div>

            <div class="card">
                <div class="card-body">
                    <div class="table-responsive">
                        <table class="table table-striped table-hover">
                            <thead>
                                <tr>
                                    <th>Date & Time</th>
                                    <th>Item Name</th>
                                    <th>Type</th>
                                    <th>Quantity</th>
                                    <th>Unit Price</th>
                                    <th>Total Value</th>
                                    <th>Notes</th>
                                </tr>
                            </thead>
                            <tbody id="transactionsTable">
                                <tr>
                                    <td colspan="7" class="text-center text-muted">No transactions yet</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </section>
            </div>
        </main>
    </div>

    <!-- Add Item Modal -->
    <div class="modal fade" id="addItemModal" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Add New Item</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <form id="addItemForm">
                        <div class="mb-3">
                            <label class="form-label">Item Name *</label>
                            <input type="text" class="form-control" id="itemName" required>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Category *</label>
                            <input type="text" class="form-control" id="itemCategory" required>
                        </div>
                        <div class="row">
                            <div class="col-md-6 mb-3">
                                <label class="form-label">Initial Quantity *</label>
                                <input type="number" class="form-control" id="itemQuantity" min="0" required>
                            </div>
                            <div class="col-md-6 mb-3">
                                <label class="form-label">Unit Price *</label>
                                <input type="number" class="form-control" id="itemPrice" step="0.01" min="0" required>
                            </div>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Low Stock Threshold</label>
                            <input type="number" class="form-control" id="lowStockThreshold" min="0" value="10">
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Description</label>
                            <textarea class="form-control" id="itemDescription" rows="3"></textarea>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                    <button type="button" class="btn btn-primary" onclick="addItem()">Add Item</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Stock In Modal -->
    <div class="modal fade" id="stockInModal" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header bg-success text-white">
                    <h5 class="modal-title">Stock In</h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <form id="stockInForm">
                        <div class="mb-3">
                            <label class="form-label">Select Item *</label>
                            <select class="form-select" id="stockInItem" required>
                                <option value="">Choose an item...</option>
                            </select>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Quantity *</label>
                            <input type="number" class="form-control" id="stockInQuantity" min="1" required>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Unit Price</label>
                            <input type="number" class="form-control" id="stockInPrice" step="0.01" min="0">
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Notes</label>
                            <textarea class="form-control" id="stockInNotes" rows="3"></textarea>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                    <button type="button" class="btn btn-success" onclick="stockIn()">Stock In</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Stock Out Modal -->
    <div class="modal fade" id="stockOutModal" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header bg-warning text-white">
                    <h5 class="modal-title">Stock Out</h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <form id="stockOutForm">
                        <div class="mb-3">
                            <label class="form-label">Select Item *</label>
                            <select class="form-select" id="stockOutItem" required>
                                <option value="">Choose an item...</option>
                            </select>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Available Quantity</label>
                            <input type="text" class="form-control" id="availableQuantity" readonly>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Quantity to Remove *</label>
                            <input type="number" class="form-control" id="stockOutQuantity" min="1" required>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Notes</label>
                            <textarea class="form-control" id="stockOutNotes" rows="3"></textarea>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                    <button type="button" class="btn btn-warning" onclick="stockOut()">Stock Out</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Edit Item Modal -->
    <div class="modal fade" id="editItemModal" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Edit Item</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <form id="editItemForm">
                        <input type="hidden" id="editItemId">
                        <div class="mb-3">
                            <label class="form-label">Item Name *</label>
                            <input type="text" class="form-control" id="editItemName" required>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Category *</label>
                            <input type="text" class="form-control" id="editItemCategory" required>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Unit Price *</label>
                            <input type="number" class="form-control" id="editItemPrice" step="0.01" min="0" required>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Low Stock Threshold</label>
                            <input type="number" class="form-control" id="editLowStockThreshold" min="0">
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Description</label>
                            <textarea class="form-control" id="editItemDescription" rows="3"></textarea>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                    <button type="button" class="btn btn-primary" onclick="updateItem()">Update Item</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Add Product Modal -->
    <div class="modal fade" id="addProductModal" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Add New Product</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <form id="addProductForm">
                        <div class="mb-3">
                            <label class="form-label">Product Name *</label>
                            <input type="text" class="form-control" id="productName" required>
                        </div>
                        <div class="row">
                            <div class="col-md-6 mb-3">
                                <label class="form-label">SKU</label>
                                <input type="text" class="form-control" id="productSku" placeholder="Optional">
                            </div>
                            <div class="col-md-6 mb-3">
                                <label class="form-label">Category *</label>
                                <input type="text" class="form-control" id="productCategory" required>
                            </div>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Unit Price *</label>
                            <input type="number" class="form-control" id="productPrice" step="0.01" min="0" required>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Description</label>
                            <textarea class="form-control" id="productDescription" rows="3"></textarea>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                    <button type="button" class="btn btn-primary" onclick="addProduct()">Add Product</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Edit Product Modal -->
    <div class="modal fade" id="editProductModal" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Edit Product</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <form id="editProductForm">
                        <input type="hidden" id="editProductId">
                        <div class="mb-3">
                            <label class="form-label">Product Name *</label>
                            <input type="text" class="form-control" id="editProductName" required>
                        </div>
                        <div class="row">
                            <div class="col-md-6 mb-3">
                                <label class="form-label">SKU</label>
                                <input type="text" class="form-control" id="editProductSku" placeholder="Optional">
                            </div>
                            <div class="col-md-6 mb-3">
                                <label class="form-label">Category *</label>
                                <input type="text" class="form-control" id="editProductCategory" required>
                            </div>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Unit Price *</label>
                            <input type="number" class="form-control" id="editProductPrice" step="0.01" min="0" required>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Status</label>
                            <select class="form-select" id="editProductStatus">
                                <option value="active">Active</option>
                                <option value="inactive">Inactive</option>
                            </select>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Description</label>
                            <textarea class="form-control" id="editProductDescription" rows="3"></textarea>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                    <button type="button" class="btn btn-primary" onclick="updateProduct()">Update Product</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Add Initial Stock Modal -->
    <div class="modal fade" id="addInitialStockModal" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header bg-success text-white">
                    <h5 class="modal-title">Add Initial Stock</h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <form id="addInitialStockForm">
                        <div class="mb-3">
                            <label class="form-label">Warehouse *</label>
                            <select class="form-select" id="initialStockLocation" required>
                                <option value="">Select warehouse...</option>
                            </select>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Product *</label>
                            <select class="form-select" id="initialStockProduct" required>
                                <option value="">Select a product...</option>
                            </select>
                        </div>
                        <div class="row">
                            <div class="col-md-6 mb-3">
                                <label class="form-label">Quantity *</label>
                                <input type="number" class="form-control" id="initialStockQuantity" min="1" required>
                            </div>
                            <div class="col-md-6 mb-3">
                                <label class="form-label">Unit Price *</label>
                                <input type="number" class="form-control" id="initialStockPrice" step="0.01" min="0" required>
                            </div>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                    <button type="button" class="btn btn-success" onclick="addInitialStock()">Add Stock</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Add User Modal -->
    <div class="modal fade" id="addUserModal" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Add New User</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <form id="addUserForm">
                        <div class="mb-3">
                            <label class="form-label">Name *</label>
                            <input type="text" class="form-control" id="userName" required>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Email *</label>
                            <input type="email" class="form-control" id="userEmail" required>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Role *</label>
                            <select class="form-select" id="userRole" required>
                                <option value="warehouse_manager">Warehouse Manager</option>
                                <option value="distributor">Distributor</option>
                                <option value="sales_agent">Sales Agent</option>
                                <option value="store_manager">Store Manager</option>
                                <option value="admin">Admin</option>
                                <option value="super_admin">Super Admin</option>
                            </select>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                    <button type="button" class="btn btn-primary" onclick="addUser()">Add User</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Edit User Modal -->
    <div class="modal fade" id="editUserModal" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Edit User</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <form id="editUserForm">
                        <input type="hidden" id="editUserId">
                        <div class="mb-3">
                            <label class="form-label">Name *</label>
                            <input type="text" class="form-control" id="editUserName" required>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Email *</label>
                            <input type="email" class="form-control" id="editUserEmail" required>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Role *</label>
                            <select class="form-select" id="editUserRole" required>
                                <option value="warehouse_manager">Warehouse Manager</option>
                                <option value="distributor">Distributor</option>
                                <option value="sales_agent">Sales Agent</option>
                                <option value="store_manager">Store Manager</option>
                                <option value="admin">Admin</option>
                                <option value="super_admin">Super Admin</option>
                            </select>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Status</label>
                            <select class="form-select" id="editUserStatus">
                                <option value="active">Active</option>
                                <option value="inactive">Inactive</option>
                            </select>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                    <button type="button" class="btn btn-primary" onclick="updateUser()">Update User</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Bootstrap 5 JS Bundle -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Auth JS -->
    <script src="js/auth.js"></script>
    <!-- Products JS -->
    <script src="js/products.js"></script>
    <!-- Inventory Manager JS -->
    <script src="js/inventoryManager.js"></script>
    <!-- Initial Stock JS -->
    <script src="js/initialStock.js"></script>
    <!-- Movements JS -->
    <script src="js/movements.js"></script>
    <!-- Movement Wizard JS -->
    <script src="js/movementWizard.js"></script>
    <!-- Users JS -->
    <script src="js/users.js"></script>
    <!-- Reports JS -->
    <script src="js/reports.js"></script>
    <!-- Activity Log JS -->
    <script src="js/activityLog.js"></script>
    <!-- Role Config JS -->
    <script src="js/roleConfig.js"></script>
    <!-- Admin JS -->
    <script src="js/admin.js"></script>
    <!-- Custom JS -->
    <script src="js/app.js"></script>
</body>
</html>
